import{S as a,i as t,s,M as e,e as i,a as r,c as o,b as n,m as c,n as l,t as p,d as f,f as m,g as u,h as g,o as d,r as h,l as y,j,k as x,p as w,A as b,B as M,C as $,D,H as E,E as v,F as C,G as k}from"./engine.js";import{c as I}from"./texture.js";import{l as A,m as B,i as F,b as G}from"./gltf-loader.js";import{i as H}from"./dracoDecoder.js";import{c as L}from"./specular.js";function S(a){let t,s,g,d;return g=new e({}),{c(){t=i("canvas"),s=r(),o(g.$$.fragment)},m(e,i){n(e,t,i),a[1](t),n(e,s,i),c(g,e,i),d=!0},p:l,i(a){d||(p(g.$$.fragment,a),d=!0)},o(a){f(g.$$.fragment,a),d=!1},d(e){e&&(m(t),m(s)),a[1](null),u(g,e)}}}function q(){}function z(a,t,s){let e,i,r,o,n,c;return g(a,h,(a=>s(2,e=a))),g(a,y,(a=>s(3,i=a))),g(a,j,(a=>s(4,r=a))),g(a,x,(a=>s(5,o=a))),g(a,w,(a=>s(6,n=a))),d((async()=>{b(h,e={...e,canvas:c,backgroundColor:M,ambientLightColor:[16777215,.15]},e);const a=await H("draco/"),t=await A("models/arm-chair.gltf","models/arm-chair.bin",a),s=B(t.scene).filter(F),l=G(t,s[0]),p=G(t,s[1]);b(w,n={...n,position:[2,1.5,2],target:[0,.5,0],fov:60},n),$(D({position:[-2,3,3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),$(D({position:[2,-1,1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),$(D({position:[-1,3,-4],color:[1,1,1],intensity:10,cutoffDistance:0,decayExponent:2}));const f=await I({url:"textures/arm-chair-diffuse.jpg",type:"diffuse"}),m=await I({url:"textures/arm-chair-normal.jpg",type:"normal"}),u=await I({url:"textures/arm-chair-lightmap.jpg",lightMapIntensity:2.2,type:"light"}),g=E({diffuse:[1,1,1],diffuseMap:f,normalMap:m,lightMap:u,metalness:0,specular:L({roughness:.9,ior:1.5,intensity:1,color:[1,1,1]})}),d=await I({url:"textures/arm-chair-floor-lightmap.jpg",lightMapIntensity:2.2,type:"light"}),k=E({diffuse:[1,.8,.8],metalness:0,lightMap:d,specular:L({roughness:.9,ior:1.5,intensity:1,color:[1,1,1]})});b(x,o=[...o,g,k],o),b(j,r=[...r,v({...p,material:g}),v({...l,material:k})],r),b(y,i=[...i],i),b(h,e={...e,loop:q,enabled:!0},e),C(c,w)})),[c,function(a){k[a?"unshift":"push"]((()=>{c=a,s(0,c)}))}]}new class extends a{constructor(a){super(),t(this,a,z,S,s,{})}}({target:document.body});
