import{S as a,i as s,s as t,M as e,e as o,a as n,c as r,b as i,m as c,n as f,t as l,d as m,f as u,g as p,h as d,o as g,r as y,l as h,j,k as b,p as x,A as w,B as $,C as D,D as E,H as v,E as C,F as M,G as k}from"./engine.js";import{c as A}from"./texture.js";import{l as B,m as F,i as G,b as H}from"./gltf-loader.js";import{i as L}from"./dracoDecoder.js";import{c as S}from"./specular.js";function q(a){let s,t,d,g;return d=new e({}),{c(){s=o("canvas"),t=n(),r(d.$$.fragment)},m(e,o){i(e,s,o),a[1](s),i(e,t,o),c(d,e,o),g=!0},p:f,i(a){g||(l(d.$$.fragment,a),g=!0)},o(a){m(d.$$.fragment,a),g=!1},d(e){e&&(u(s),u(t)),a[1](null),p(d,e)}}}function z(){}function I(a,s,t){let e,o,n,r,i,c;return d(a,y,(a=>t(2,e=a))),d(a,h,(a=>t(3,o=a))),d(a,j,(a=>t(4,n=a))),d(a,b,(a=>t(5,r=a))),d(a,x,(a=>t(6,i=a))),g((async()=>{w(y,e={...e,canvas:c,backgroundColor:$,ambientLightColor:[16777215,.15]},e);const a=await L("draco/"),s=await B("models/arm-chair.gltf","models/arm-chair.bin",a),t=F(s.scene).filter(G),f=H(s,t[0]),l=H(s,t[1]);w(x,i={...i,position:[2,1.5,2],target:[0,.5,0],fov:60},i);const m=D(E({position:[-2,3,3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),u=D(E({position:[2,-1,1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),p=D(E({position:[-1,3,-4],color:[1,1,1],intensity:10,cutoffDistance:0,decayExponent:2})),d=await A({url:"textures/arm-chair-diffuse.jpg",type:"diffuse"}),g=await A({url:"textures/arm-chair-normal.jpg",type:"normal"}),k=v({diffuse:[1,1,1],diffuseMap:d,normalMap:g,metalness:0,specular:S({roughness:.9,ior:1.5,intensity:1,color:[1,1,1]})}),q=v({diffuse:[1,1,1],metalness:0,specular:S({roughness:.9,ior:1.5,intensity:1,color:[1,1,1]})});w(b,r=[...r,k,q],r),w(j,n=[...n,C({...l,material:k}),C({...f,material:q})],n),w(h,o=[...o,m,u,p],o),w(y,e={...e,loop:z,enabled:!0},e),M(c,x)})),[c,function(a){k[a?"unshift":"push"]((()=>{c=a,t(0,c)}))}]}new class extends a{constructor(a){super(),s(this,a,I,q,t,{})}}({target:document.body});
