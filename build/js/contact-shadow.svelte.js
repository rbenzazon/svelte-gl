import{S as a,i as s,s as t,M as e,e as o,a as n,c as i,b as r,m as c,n as m,t as f,d as l,f as p,g as u,h as d,o as x,r as g,l as b,j,k as y,p as h,K as v,L as w,I as $,F as C,D,x as M,y as k,q as B,u as E,v as I,w as L,z as q,A as z,B as A,C as F}from"./engine-Bo3olh_j.js";import{c as K,a as P}from"./polyhedron-DsETxVii.js";import{c as S}from"./cube-9Vw8iJV3.js";import{c as T}from"./plane-BfVFz3kj.js";import{c as G}from"./texture-BlLv-WAr.js";import{c as H}from"./contact-shadow-Vp48mfcM.js";import{l as J,m as N,i as O,a as Q,g as R,c as U,b as V}from"./gltf-loader-npiTi770.js";import"./specular-DDu5FTWv.js";function W(a){let s,t,d,x;return d=new e({}),{c(){s=o("canvas"),t=n(),i(d.$$.fragment)},m(e,o){r(e,s,o),a[1](s),r(e,t,o),c(d,e,o),x=!0},p:m,i(a){x||(f(d.$$.fragment,a),x=!0)},o(a){l(d.$$.fragment,a),x=!1},d(e){e&&(p(s),p(t)),a[1](null),u(d,e)}}}function X(){}function Y(a,s,t){let e,o,n,i,r,c,m;return d(a,g,(a=>t(2,e=a))),d(a,b,(a=>t(3,o=a))),d(a,j,(a=>t(4,n=a))),d(a,y,(a=>t(5,i=a))),d(a,h,(a=>t(6,r=a))),d(a,v,(a=>t(7,c=a))),x((async()=>{const a=await J("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin"),s=N(a.scene),t=s.find(O),f=s.find(Q),l=R(f),p=U(f);w(p.position,p.position,l);const u=R(t);$(u,u,Math.PI),C(u,u,[200,200,200]),D(u,u,[0,0,-500]),t.matrix=u;const d=V(a,t),x=M(k());D(x,x,[0,-1.2,0]),B(g,e={...e,canvas:m,backgroundColor:E,ambientLightColor:[16777215,.1]},e);const A=H(x,1,10,10,1024,128,20),{getTexture:W}=A;B(v,c=[A],c),B(h,r={...r,position:[0,5,-5],target:[0,1,0],fov:75},r);const Y=S(),Z=K(1,5,P),_=I(L({position:[-2,3,-3],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),aa=I(L({position:[2,-1,-1],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),sa=.5,ta=M(k());D(ta,ta,[3,0,0]),C(ta,ta,[sa,sa,sa]);const ea=M(k());D(ea,ea,[-3,0,0]),C(ea,ea,[sa,sa,sa]);const oa=F({diffuse:[1,.5,.5],metalness:0}),na=T(10,10,1,1),ia=await G({textureBuffer:W,type:"diffuse"});await G({url:"transparent-texture.png",type:"diffuse"});const ra=F({diffuse:[1,1,1],metalness:0,diffuseMap:ia}),ca=F(d.material);B(y,i=[...i,oa,ca,ra],i),B(j,n=[...n,q({...d,matrix:u,material:ca}),q({...Z,matrix:ea,material:oa}),q({...Y,matrix:ta,material:oa}),q({...na,matrix:x,material:ra})],n),B(b,o=[...o,_,aa],o),B(g,e={...e,loop:X,enabled:!0},e),z(m,h)})),[m,function(a){A[a?"unshift":"push"]((()=>{m=a,t(0,m)}))}]}class Z extends a{constructor(a){super(),s(this,a,Y,W,t,{})}}export{Z as default};
