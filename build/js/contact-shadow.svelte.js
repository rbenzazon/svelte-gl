import{S as a,i as s,s as t,M as o,e as n,a as e,c as r,b as i,m as c,n as l,t as m,d as f,f as u,g as p,h as d,o as x,r as g,j as w,k as y,l as b,p as h,q as j,u as v,v as $,w as A,x as M,y as C,z as D,A as F,B as k,C as B,D as E}from"./Menu-CQVj6Mn_.js";import{c as q,a as z}from"./polyhedron-Cf5-SNH5.js";import{c as I}from"./cube-zOGvCMed.js";import{c as L}from"./plane-BORTLic0.js";import{c as P}from"./texture-cK8KB20t.js";import{c as S}from"./contact-shadow-DQDp5p_L.js";import{l as T,t as G,g as H,c as J,a as K}from"./gltf-loader-DKEh2Pc4.js";function N(a){let s,t,d,x;return d=new o({}),{c(){s=n("canvas"),t=e(),r(d.$$.fragment)},m(o,n){i(o,s,n),a[1](s),i(o,t,n),c(d,o,n),x=!0},p:l,i(a){x||(m(d.$$.fragment,a),x=!0)},o(a){f(d.$$.fragment,a),x=!1},d(o){o&&(u(s),u(t)),a[1](null),p(d,o)}}}function O(){performance.now()}function Q(a,s,t){let o,n,e,r,i;return d(a,g,(a=>t(2,o=a))),d(a,w,(a=>t(3,n=a))),d(a,y,(a=>t(4,e=a))),d(a,b,(a=>t(5,r=a))),x((async()=>{const a=await T("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;G(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const c=H(t),l=J(t);h(l.position,l.position,c);const m=H(s);j(m,m,Math.PI),v(m,m,[200,200,200]),$(m,m,[0,0,-500]),s.matrix=m;const f=K(a,s);f.matrix=m;const u=A(new Float32Array(16));$(u,u,[0,-1.2,0]),M(g,o={...o,canvas:i,backgroundColor:C,ambientLightColor:[16777215,.1]},o);const p=S(u,1,10,10,1024,128,20),{getTexture:d}=p;M(b,r=[p],r),M(y,e={position:[0,5,-5],target:[0,1,0],fov:75},e);const x=I(),E=q(1,5,z),N=D(F({position:[-2,3,-3],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),Q=D(F({position:[2,-1,-1],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),R=.5,U=A(new Float32Array(16));$(U,U,[3,0,0]),v(U,U,[R,R,R]);const V=A(new Float32Array(16));$(V,V,[-3,0,0]),v(V,V,[R,R,R]);const W={diffuse:[1,.5,.5],metalness:0},X=L(10,10,1,1),Y=await P({textureBuffer:d,type:"diffuse"});await P({url:"transparent-texture.png",type:"diffuse"});const Z={diffuse:[1,1,1],metalness:0,diffuseMap:Y};M(w,n=[...n,k(f),k({...E,matrix:V,material:W}),k({...x,matrix:U,material:W}),k({...X,matrix:u,material:Z}),N,Q],n),M(g,o={...o,loop:O,enabled:!0},o),B(i,y)})),[i,function(a){E[a?"unshift":"push"]((()=>{i=a,t(0,i)}))}]}class R extends a{constructor(a){super(),s(this,a,Q,N,t,{})}}export{R as default};
