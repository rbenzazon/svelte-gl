import{S as a,i as s,s as t,M as o,e,a as n,c as i,b as r,m,n as c,t as f,d as l,f as d,g as u,h as p,o as g,r as x,l as b,j,k as y,p as h,q as v,u as w,v as $,w as C,x as D,y as E,z as M,A as k,B,C as q,D as z,E as A,F,G,H}from"./engine.js";import{c as I,a as L}from"./polyhedron.js";import{c as P}from"./cube.js";import{c as S}from"./plane.js";import{c as T}from"./texture.js";import{c as J}from"./contact-shadow.js";import{l as K,m as N,i as O,a as Q,g as R,c as U,b as V}from"./gltf-loader.js";import"./specular.js";function W(a){let s,t,p,g;return p=new o({}),{c(){s=e("canvas"),t=n(),i(p.$$.fragment)},m(o,e){r(o,s,e),a[1](s),r(o,t,e),m(p,o,e),g=!0},p:c,i(a){g||(f(p.$$.fragment,a),g=!0)},o(a){l(p.$$.fragment,a),g=!1},d(o){o&&(d(s),d(t)),a[1](null),u(p,o)}}}function X(){}function Y(a,s,t){let o,e,n,i,r,m,c;return p(a,x,(a=>t(2,o=a))),p(a,b,(a=>t(3,e=a))),p(a,j,(a=>t(4,n=a))),p(a,y,(a=>t(5,i=a))),p(a,h,(a=>t(6,r=a))),p(a,v,(a=>t(7,m=a))),g((async()=>{const a=await K("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin"),s=N(a.scene),t=s.find(O),f=s.find(Q),l=R(f),d=U(f);w(d.position,d.position,l);const u=R(t);$(u,u,Math.PI),C(u,u,[200,200,200]),D(u,u,[0,0,-500]),t.matrix=u;const p=V(a,t),g=E(M());D(g,g,[0,-1.2,0]),k(x,o={...o,canvas:c,backgroundColor:B,ambientLightColor:[16777215,.1]},o);const G=J(g,1,10,10,1024,128,20),{getTexture:W}=G;k(v,m=[G],m),k(h,r={...r,position:[0,5,-5],target:[0,1,0],fov:75},r);const Y=P(),Z=I(1,5,L),_=q(z({position:[-2,3,-3],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),aa=q(z({position:[2,-1,-1],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),sa=.5,ta=E(M());D(ta,ta,[3,0,0]),C(ta,ta,[sa,sa,sa]);const oa=E(M());D(oa,oa,[-3,0,0]),C(oa,oa,[sa,sa,sa]);const ea=H({diffuse:[1,.5,.5],metalness:0}),na=S(10,10,1,1),ia=await T({textureBuffer:W,type:"diffuse"}),ra=H({diffuse:[1,1,1],metalness:0,diffuseMap:ia}),ma=H(p.material);k(y,i=[...i,ea,ma,ra],i),k(j,n=[...n,A({...p,matrix:u,material:ma}),A({...Z,matrix:oa,material:ea}),A({...Y,matrix:ta,material:ea}),A({...na,matrix:g,material:ra})],n),k(b,e=[...e,_,aa],e),k(x,o={...o,loop:X,enabled:!0},o),F(c,h)})),[c,function(a){G[a?"unshift":"push"]((()=>{c=a,t(0,c)}))}]}new class extends a{constructor(a){super(),s(this,a,Y,W,t,{})}}({target:document.body});
