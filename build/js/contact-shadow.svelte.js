import{S as a,i as s,s as t,M as o,e as n,a as e,c as r,b as i,m as c,n as l,t as m,d as f,f as u,g as p,h as d,o as x,r as g,l as w,j as y,k as b,p as h,q as j,u as v,v as $,w as A,x as M,y as C,z as D,A as E,B as F,C as k,D as B,E as q}from"./Menu-BXmdIPfW.js";import{c as z,a as I}from"./polyhedron-CVamRPAK.js";import{c as L}from"./cube-DyslGOCn.js";import{c as P}from"./plane-DhJQStR7.js";import{c as S}from"./texture-Bnj5NQ42.js";import{c as T}from"./contact-shadow-BwhpRqOz.js";import{l as G,t as H,g as J,c as K,a as N}from"./gltf-loader-DdKpLis2.js";function O(a){let s,t,d,x;return d=new o({}),{c(){s=n("canvas"),t=e(),r(d.$$.fragment)},m(o,n){i(o,s,n),a[1](s),i(o,t,n),c(d,o,n),x=!0},p:l,i(a){x||(m(d.$$.fragment,a),x=!0)},o(a){f(d.$$.fragment,a),x=!1},d(o){o&&(u(s),u(t)),a[1](null),p(d,o)}}}function Q(){performance.now()}function R(a,s,t){let o,n,e,r,i,c;return d(a,g,(a=>t(2,o=a))),d(a,w,(a=>t(3,n=a))),d(a,y,(a=>t(4,e=a))),d(a,b,(a=>t(5,r=a))),d(a,h,(a=>t(6,i=a))),x((async()=>{const a=await G("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;H(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const l=J(t),m=K(t);j(m.position,m.position,l);const f=J(s);v(f,f,Math.PI),$(f,f,[200,200,200]),A(f,f,[0,0,-500]),s.matrix=f;const u=N(a,s);u.matrix=f;const p=M(new Float32Array(16));A(p,p,[0,-1.2,0]),C(g,o={...o,canvas:c,backgroundColor:D,ambientLightColor:[16777215,.1]},o);const d=T(p,1,10,10,1024,128,20),{getTexture:x}=d;C(h,i=[d],i),C(b,r={position:[0,5,-5],target:[0,1,0],fov:75},r);const q=L(),O=z(1,5,I),R=E(F({position:[-2,3,-3],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),U=E(F({position:[2,-1,-1],color:[1,1,1],intensity:15,cutoffDistance:0,decayExponent:2})),V=.5,W=M(new Float32Array(16));A(W,W,[3,0,0]),$(W,W,[V,V,V]);const X=M(new Float32Array(16));A(X,X,[-3,0,0]),$(X,X,[V,V,V]);const Y={diffuse:[1,.5,.5],metalness:0},Z=P(10,10,1,1),_=await S({textureBuffer:x,type:"diffuse"});await S({url:"transparent-texture.png",type:"diffuse"});const aa={diffuse:[1,1,1],metalness:0,diffuseMap:_};C(y,e=[...e,k(u),k({...O,matrix:X,material:Y}),k({...q,matrix:W,material:Y}),k({...Z,matrix:p,material:aa})],e),C(w,n=[...n,R,U],n),C(g,o={...o,loop:Q,enabled:!0},o),B(c,b)})),[c,function(a){q[a?"unshift":"push"]((()=>{c=a,t(0,c)}))}]}class U extends a{constructor(a){super(),s(this,a,R,O,t,{})}}export{U as default};
