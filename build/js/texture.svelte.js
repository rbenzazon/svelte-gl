import{S as s,i as a,s as t,M as e,e as n,a as r,c as o,b as i,m as u,n as c,t as p,d as f,f as l,g as m,h as g,o as d,r as y,l as $,j as h,k as j,p as b,A as x,B as w,C as D,D as v,y as C,z as M,H as E,E as k,F as A,G as F}from"./engine.js";import{s as z,c as B}from"./cube.js";import{c as G}from"./texture.js";import{c as H}from"./specular.js";import{D as L}from"./DebugPanel.js";function P(s){let a,t,g,d,y,$;return g=new e({}),y=new L({props:{initialCollapsed:!0}}),{c(){a=n("canvas"),t=r(),o(g.$$.fragment),d=r(),o(y.$$.fragment)},m(e,n){i(e,a,n),s[1](a),i(e,t,n),u(g,e,n),i(e,d,n),u(y,e,n),$=!0},p:c,i(s){$||(p(g.$$.fragment,s),p(y.$$.fragment,s),$=!0)},o(s){f(g.$$.fragment,s),f(y.$$.fragment,s),$=!1},d(e){e&&(l(a),l(t),l(d)),s[1](null),m(g,e),m(y,e)}}}function S(){}function q(s,a,t){let e,n,r,o,i,u;return g(s,y,(s=>t(2,e=s))),g(s,$,(s=>t(3,n=s))),g(s,h,(s=>t(4,r=s))),g(s,j,(s=>t(5,o=s))),g(s,b,(s=>t(6,i=s))),d((async()=>{x(y,e={...e,canvas:u,backgroundColor:w,ambientLightColor:[16777215,.1]},e),x(b,i={...i,position:[0,5,5],target:[0,0,0],fov:75},i);const s=B();s.attributes.uvs=new Float32Array(z);const a=D(v({position:[-3,2.5,2],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),t=D(v({position:[0,3.5,-3],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),c=C(M()),p=await G({url:"textures/granite.jpg",type:"diffuse"}),f=await G({url:"textures/granite-normal.jpg",type:"normal"}),l=await G({url:"textures/granite-roughness.jpg",type:"roughness"}),m=E({diffuse:[1,1,1],metalness:0,specular:H({roughness:.1,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:p,normalMap:f,roughnessMap:l});x(j,o=[...o,m],o),x(h,r=[...r,k({...s,matrix:c,material:m})],r),x($,n=[...n,a,t],n),x(y,e={...e,loop:S,enabled:!0},e),A(u,b)})),[u,function(s){F[s?"unshift":"push"]((()=>{u=s,t(0,u)}))}]}new class extends s{constructor(s){super(),a(this,s,q,P,t,{})}}({target:document.body});
