import{S as a,i as s,s as t,M as n,e,a as o,c as r,b as i,m as c,n as f,t as u,d as l,f as p,g as m,h as g,o as d,r as $,l as y,k as j,p as b,j as x,u as h,v as w,C as v,D,x as C,y as E,w as M,A as k,E as A,I as F}from"./engine.js";import{s as I,c as L}from"./cube.js";import{c as P}from"./texture.js";import{c as S}from"./specular.js";import{D as q}from"./DebugPanel.js";function z(a){let s,t,g,d,$,y;return g=new n({}),$=new q({props:{initialCollapsed:!0}}),{c(){s=e("canvas"),t=o(),r(g.$$.fragment),d=o(),r($.$$.fragment)},m(n,e){i(n,s,e),a[1](s),i(n,t,e),c(g,n,e),i(n,d,e),c($,n,e),y=!0},p:f,i(a){y||(u(g.$$.fragment,a),u($.$$.fragment,a),y=!0)},o(a){l(g.$$.fragment,a),l($.$$.fragment,a),y=!1},d(n){n&&(p(s),p(t),p(d)),a[1](null),m(g,n),m($,n)}}}function B(){}function G(a,s,t){let n,e,o,r,i,c;return g(a,$,(a=>t(2,n=a))),g(a,y,(a=>t(3,e=a))),g(a,j,(a=>t(4,o=a))),g(a,b,(a=>t(5,r=a))),g(a,x,(a=>t(6,i=a))),d((async()=>{h($,n={...n,canvas:c,backgroundColor:w,ambientLightColor:[16777215,.1]},n),h(x,i={...i,position:[0,5,5],target:[0,0,0],fov:75},i);const a=L();a.attributes.uvs=new Float32Array(I);const s=v(D({position:[-3,2.5,2],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),t=v(D({position:[0,3.5,-3],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),f=C(E()),u=await P({url:"granite.jpg",type:"diffuse"}),l=await P({url:"granite-normal.jpg",type:"normal"}),p=M({diffuse:[1,1,1],metalness:0,specular:S({roughness:.1,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:u,normalMap:l});h(b,r=[...r,p],r),h(j,o=[...o,k({...a,matrix:f,material:p})],o),h(y,e=[...e,s,t],e),h($,n={...n,loop:B,enabled:!0},n),A(c,x)})),[c,function(a){F[a?"unshift":"push"]((()=>{c=a,t(0,c)}))}]}class H extends a{constructor(a){super(),s(this,a,G,z,t,{})}}export{H as default};
