import{S as s,i as a,s as t,M as e,e as n,a as r,c as o,b as i,m as u,n as c,t as p,d as f,f as l,g as m,h as g,o as d,r as $,l as y,k as x,p as h,j,u as b,v as w,C as v,D,x as C,y as M,w as E,A as k,E as A,I as F}from"./engine.js";import{s as I,c as L}from"./cube.js";import{c as P}from"./texture.js";import{c as S}from"./specular.js";import{D as q}from"./DebugPanel.js";function z(s){let a,t,g,d,$,y;return g=new e({}),$=new q({props:{initialCollapsed:!0}}),{c(){a=n("canvas"),t=r(),o(g.$$.fragment),d=r(),o($.$$.fragment)},m(e,n){i(e,a,n),s[1](a),i(e,t,n),u(g,e,n),i(e,d,n),u($,e,n),y=!0},p:c,i(s){y||(p(g.$$.fragment,s),p($.$$.fragment,s),y=!0)},o(s){f(g.$$.fragment,s),f($.$$.fragment,s),y=!1},d(e){e&&(l(a),l(t),l(d)),s[1](null),m(g,e),m($,e)}}}function B(){}function G(s,a,t){let e,n,r,o,i,u;return g(s,$,(s=>t(2,e=s))),g(s,y,(s=>t(3,n=s))),g(s,x,(s=>t(4,r=s))),g(s,h,(s=>t(5,o=s))),g(s,j,(s=>t(6,i=s))),d((async()=>{b($,e={...e,canvas:u,backgroundColor:w,ambientLightColor:[16777215,.1]},e),b(j,i={...i,position:[0,5,5],target:[0,0,0],fov:75},i);const s=L();s.attributes.uvs=new Float32Array(I);const a=v(D({position:[-3,2.5,2],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),t=v(D({position:[0,3.5,-3],color:[1,1,1],intensity:10,cutoffDistance:10,decayExponent:.1})),c=C(M()),p=await P({url:"textures/granite.jpg",type:"diffuse"}),f=await P({url:"textures/granite-normal.jpg",type:"normal"}),l=await P({url:"textures/granite-roughness.jpg",type:"roughness"}),m=E({diffuse:[1,1,1],metalness:0,specular:S({roughness:.1,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:p,normalMap:f,roughnessMap:l});b(h,o=[...o,m],o),b(x,r=[...r,k({...s,matrix:c,material:m})],r),b(y,n=[...n,a,t],n),b($,e={...e,loop:B,enabled:!0},e),A(u,j)})),[u,function(s){F[s?"unshift":"push"]((()=>{u=s,t(0,u)}))}]}class H extends s{constructor(s){super(),a(this,s,G,z,t,{})}}export{H as default};
