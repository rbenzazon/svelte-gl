import{as as s,z as t,x as e,S as a,i as n,s as o,M as r,e as i,a as c,c as u,b as m,m as p,n as l,t as f,d,f as h,g,h as x,o as w,r as b,j,k as M,q as v,p as y,A as S,az as $,H as k,y as C,w as z,E,F as L,G as T}from"./engine.js";import{c as q}from"./skybox.js";import{d as F}from"./jpeg-hdr-loader.js";import{c as G,g as O,h as A,a as D,b as H}from"./environment-map-texture.js";import{c as K}from"./specular.js";import{i as P}from"./dracoDecoder.js";import{l as R,m as V,i as B,b as I}from"./gltf-loader.js";function J(s){let t,e,a,n;return a=new r({}),{c(){t=i("canvas"),e=c(),u(a.$$.fragment)},m(o,r){m(o,t,r),s[1](t),m(o,e,r),p(a,o,r),n=!0},p:l,i(s){n||(f(a.$$.fragment,s),n=!0)},o(s){d(a.$$.fragment,s),n=!1},d(n){n&&(h(t),h(e)),s[1](null),g(a,n)}}}function N(){}function Q(a,n,o){let r,i,c,u,m,p;return x(a,b,(s=>o(3,r=s))),x(a,j,(s=>o(4,i=s))),x(a,M,(s=>o(5,c=s))),x(a,v,(s=>o(6,u=s))),x(a,y,(s=>o(7,m=s))),w((async()=>{S(b,r={...r,canvas:p,backgroundColor:$,ambientLightColor:[16777215,.1],toneMappings:[G({exposure:1})]},r),S(y,m={...m,position:[0,0,35],target:[2,0,-1],fov:70},m);const a=await F("skyboxes/qwantani-noon-4k.jpg"),n=O(1);await q({texture:a.texture,width:a.texture.width,height:a.texture.height,cubeSize:2048,toneMapping:n,convertToCube:A});const o=D(a.texture,a.width,a.height);S(v,u=[o],u);const l=H({envMap:o.getTexture,width:o.width,height:o.height,lodMax:o.lodMax}),f=k({metalness:.95,specular:K({roughness:.02,ior:1.4,intensity:.8,color:[1,1,1]}),diffuse:[1,1,1],envMap:l}),d=await async function(s,t,e){const a=await P("draco/"),n=await R(s,t,a),o=V(n.scene).reduce(((s,t)=>(B(t)&&(s[t.name]=t),s)),{}),r={};for(const i in o){const s=I(n,o[i]);delete s.matrix;const t={...s,material:e,instances:0,matrices:[]};r[i]=t}return{letterSpacing:.4,fontFile:n,letterMap:o,meshMap:r,displayedMeshes:{}}}("models/xenon-font.gltf","models/xenon-font.bin",f),h="SVELTE GL ROCKS",g=C(t());z(g,g,[8,8,8]),e(g,g,[7.5*-d.letterSpacing+.2,0,0]);const x=function(a,n,o){let r=0;const{letterSpacing:i,meshMap:c}=n,u=a.split("");new Set(u).delete(" ");const m={};for(const p of u){const a=c[p];if(!m[p]&&a&&(m[p]=a)," "===p){r+=i;continue}a.instances++;const n=s(t(),o);e(n,n,[r,0,0]),a.matrices.push(n),r+=i}return n.cursorPos=r,Object.values(m)}(h,d,g).map((s=>E(s)));S(M,c=[...c,f],c),S(j,i=[...i,...x],i),S(b,r={...r,loop:N,enabled:!0},r),L(p,y)})),[p,function(s){T[s?"unshift":"push"]((()=>{p=s,o(0,p)}))}]}new class extends a{constructor(s){super(),n(this,s,Q,J,o,{})}}({target:document.body});
