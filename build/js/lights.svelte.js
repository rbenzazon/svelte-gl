import{S as t,i as e,s as n,a2 as l,a3 as o,r as i,e as a,a as s,a4 as r,a5 as c,a6 as p,b as u,a7 as f,a8 as h,a9 as g,n as d,f as m,aa as v,ab as x,h as y,k as C,ac as k,ad as b,W as w,ae as j,M,c as $,m as L,t as D,d as A,g as B,o as O,j as E,x as S,y as P,z as F,A as z,w as I,B as N,C as R,D as T}from"./Menu-BvT8Tzhv.js";import{c as V}from"./plane-B8M4gTd5.js";import{c as W}from"./texture-BhiNbF3g.js";import{c as q}from"./specular-BDbq0vJS.js";function G(t){l(t,"svelte-14pvkch",".panel.svelte-14pvkch{position:absolute;top:0;right:0;width:300px;height:100%;background-color:rgba(0, 0, 0, 0.5);color:white;overflow-y:auto}.panelContent.svelte-14pvkch{display:flex;flex-direction:column;justify-content:center;align-items:left;gap:20px;padding:20px}.collapsed.svelte-14pvkch{display:none !important}.closeButton.svelte-14pvkch{background:none;border:none;color:inherit;cursor:pointer}.openButton.svelte-14pvkch{position:absolute;top:0;right:0;width:50px;height:50px;background-color:rgba(0, 0, 0, 0.5);color:white;display:flex;justify-content:center;align-items:center;cursor:pointer}.renderer.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:10px;padding:20px}.camera.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:20px;padding:20px}.meshes.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:20px;padding:20px}.mesh.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:10px}.attributes.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:10px;padding:20px}a.svelte-14pvkch{color:white}.lights.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:20px;padding:20px}.light.svelte-14pvkch{width:100%;height:100%;display:flex;justify-content:center;align-items:left;flex-direction:column;gap:10px}")}function H(t,e,n){const l=t.slice();return l[8]=e[n],l[10]=n,l}function J(t,e,n){const l=t.slice();return l[11]=e[n].attributes,l[12]=e[n].drawMode,l[13]=e[n].matrix,l[14]=e[n].material,l[10]=n,l}function K(t,e,n){const l=t.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function Q(t,e,n){const l=t.slice();return l[20]=e[n],l}function U(t,e,n){const l=t.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function X(t,e,n){const l=t.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function Y(t){let e;return{c(){e=a("p"),e.textContent=`${t[16]}: ${t[17]}`},m(t,n){u(t,e,n)},p:d,d(t){t&&m(e)}}}function Z(t){let e,n,l,o,i=t[16]+"",s=t[17].length+"";return{c(){e=a("p"),n=r(i),l=r(": "),o=r(s)},m(t,i){u(t,e,i),f(e,n),f(e,l),f(e,o)},p(t,e){8&e&&i!==(i=t[16]+"")&&g(n,i),8&e&&s!==(s=t[17].length+"")&&g(o,s)},d(t){t&&m(e)}}}function _(t){let e,n,l=t[20]+"";return{c(){e=a("p"),n=r(l)},m(t,l){u(t,e,l),f(e,n)},p(t,e){8&e&&l!==(l=t[20]+"")&&g(n,l)},d(t){t&&m(e)}}}function tt(t){let e,n,l,o,i=t[16]+"",s=t[17]+"";return{c(){e=a("p"),n=r(i),l=r(": "),o=r(s)},m(t,i){u(t,e,i),f(e,n),f(e,l),f(e,o)},p(t,e){8&e&&i!==(i=t[16]+"")&&g(n,i),8&e&&s!==(s=t[17]+"")&&g(o,s)},d(t){t&&m(e)}}}function et(t){let e,n,l,o,i,p=t[16]+"";return{c(){e=a("p"),n=r(p),l=s(),o=a("input"),c(o,"type","color"),o.value=i=st(t[17])},m(t,i){u(t,e,i),f(e,n),u(t,l,i),u(t,o,i)},p(t,e){8&e&&p!==(p=t[16]+"")&&g(n,p),8&e&&i!==(i=st(t[17]))&&(o.value=i)},d(t){t&&(m(e),m(l),m(o))}}}function nt(t){let e,n,l,o=t[16]+"";return{c(){e=a("a"),n=r(o),c(e,"href",l="./"+t[17].url),c(e,"class","svelte-14pvkch")},m(t,l){u(t,e,l),f(e,n)},p(t,i){8&i&&o!==(o=t[16]+"")&&g(n,o),8&i&&l!==(l="./"+t[17].url)&&c(e,"href",l)},d(t){t&&m(e)}}}function lt(t){let e,n,l;function o(...e){return t[7](t[16],...e)}function i(t,l){return 8&l&&(e=null),8&l&&(n=null),null==e&&(e=!!t[16].includes("Map")),e?nt:(null==n&&(n=!!t[5].some(o)),n?et:tt)}let a=i(t,-1),s=a(t);return{c(){s.c(),l=j()},m(t,e){s.m(t,e),u(t,l,e)},p(e,n){a===(a=i(t=e,n))&&s?s.p(t,n):(s.d(1),s=a(t),s&&(s.c(),s.m(l.parentNode,l)))},d(t){t&&m(l),s.d(t)}}}function ot(t){let e,n,l,i,p,h,d,x,y,C,k,b,w,j,M,$,L,D,A=t[12]+"",B=o(Object.entries(t[11])),O=[];for(let e=0;e<B.length;e+=1)O[e]=Z(U(t,B,e));let E=o(t[13]),S=[];for(let e=0;e<E.length;e+=1)S[e]=_(Q(t,E,e));let P=o(Object.entries(t[14])),F=[];for(let e=0;e<P.length;e+=1)F[e]=lt(K(t,P,e));return{c(){e=a("div"),n=a("p"),n.textContent=`Mesh ${t[10]}`,l=s(),i=a("p"),i.textContent="Attributes",p=s(),h=a("div");for(let t=0;t<O.length;t+=1)O[t].c();d=s(),x=a("p"),x.textContent="Draw Mode",y=s(),C=a("p"),k=r(A),b=s(),w=a("p"),w.textContent="Matrix",j=s();for(let t=0;t<S.length;t+=1)S[t].c();M=s(),$=a("p"),$.textContent="Material",L=s();for(let t=0;t<F.length;t+=1)F[t].c();D=s(),c(h,"class","attributes svelte-14pvkch"),c(e,"class","mesh svelte-14pvkch")},m(t,o){u(t,e,o),f(e,n),f(e,l),f(e,i),f(e,p),f(e,h);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(h,null);f(e,d),f(e,x),f(e,y),f(e,C),f(C,k),f(e,b),f(e,w),f(e,j);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(e,null);f(e,M),f(e,$),f(e,L);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(e,null);f(e,D)},p(t,n){if(8&n){let e;for(B=o(Object.entries(t[11])),e=0;e<B.length;e+=1){const l=U(t,B,e);O[e]?O[e].p(l,n):(O[e]=Z(l),O[e].c(),O[e].m(h,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=B.length}if(8&n&&A!==(A=t[12]+"")&&g(k,A),8&n){let l;for(E=o(t[13]),l=0;l<E.length;l+=1){const o=Q(t,E,l);S[l]?S[l].p(o,n):(S[l]=_(o),S[l].c(),S[l].m(e,M))}for(;l<S.length;l+=1)S[l].d(1);S.length=E.length}if(40&n){let l;for(P=o(Object.entries(t[14])),l=0;l<P.length;l+=1){const o=K(t,P,l);F[l]?F[l].p(o,n):(F[l]=lt(o),F[l].c(),F[l].m(e,D))}for(;l<F.length;l+=1)F[l].d(1);F.length=P.length}},d(t){t&&m(e),v(O,t),v(S,t),v(F,t)}}}function it(t){let e,n,l,o,i,p,h,d,v,x,y,C,k,b,j,M,$,L,D,A,B,O,E,S,P,F,z,I,N=w(t[8]).position+"";return{c(){e=a("div"),n=a("p"),n.textContent=`Light ${t[10]}`,l=s(),o=a("p"),o.textContent="Color",i=s(),p=a("input"),d=s(),v=a("p"),v.textContent="Intensity",x=s(),y=a("input"),k=s(),b=a("p"),b.textContent="Position",j=s(),M=a("p"),$=r(N),L=s(),D=a("p"),D.textContent="Cutoff Distance",A=s(),B=a("input"),E=s(),S=a("p"),S.textContent="Decay Exponent",P=s(),F=a("input"),I=s(),c(p,"type","color"),p.value=h=st(w(t[8]).color),c(y,"type","range"),c(y,"min","0"),c(y,"max","10"),c(y,"step","0.1"),y.value=C=w(t[8]).intensity,c(B,"type","range"),c(B,"min","0"),c(B,"max","30"),c(B,"step","0.1"),B.value=O=w(t[8]).cutoffDistance,c(F,"type","range"),c(F,"min","0"),c(F,"max","5"),c(F,"step","0.1"),F.value=z=w(t[8]).decayExponent,c(e,"class","light svelte-14pvkch")},m(t,a){u(t,e,a),f(e,n),f(e,l),f(e,o),f(e,i),f(e,p),f(e,d),f(e,v),f(e,x),f(e,y),f(e,k),f(e,b),f(e,j),f(e,M),f(M,$),f(e,L),f(e,D),f(e,A),f(e,B),f(e,E),f(e,S),f(e,P),f(e,F),f(e,I)},p(t,e){16&e&&h!==(h=st(w(t[8]).color))&&(p.value=h),16&e&&C!==(C=w(t[8]).intensity)&&(y.value=C),16&e&&N!==(N=w(t[8]).position+"")&&g($,N),16&e&&O!==(O=w(t[8]).cutoffDistance)&&(B.value=O),16&e&&z!==(z=w(t[8]).decayExponent)&&(F.value=z)},d(t){t&&m(e)}}}function at(t){let e,n,l,y,C,k,b,w,j,M,$,L,D,A,B,O,E,S,P,F,z,I,N,R,T,V,W,q,G,K,Q,U,Z,_,tt,et,nt,lt,at,st,ct,pt,ut,ft,ht,gt,dt,mt,vt,xt,yt,Ct,kt,bt,wt=t[2].position+"",jt=t[2].target+"",Mt=o(Object.entries(i.processed)),$t=[];for(let e=0;e<Mt.length;e+=1)$t[e]=Y(X(t,Mt,e));let Lt=o(t[3]),Dt=[];for(let e=0;e<Lt.length;e+=1)Dt[e]=ot(J(t,Lt,e));let At=o(t[4]),Bt=[];for(let e=0;e<At.length;e+=1)Bt[e]=it(H(t,At,e));return{c(){e=a("div"),e.textContent="<<",n=s(),l=a("div"),y=a("div"),C=a("button"),C.textContent=">>",k=s(),b=a("p"),b.textContent="Renderer",w=s(),j=a("div"),M=a("p"),M.textContent="Background Color",$=s(),L=a("input"),A=s(),B=a("p"),B.textContent="Ambient Light Color",O=s(),E=a("input"),P=s(),F=a("p"),F.textContent="Ambient Light Alpha",z=s(),I=a("input"),R=s(),T=a("p"),T.textContent="Processed",V=s();for(let t=0;t<$t.length;t+=1)$t[t].c();W=s(),q=a("p"),q.textContent="Camera",G=s(),K=a("div"),Q=a("p"),Q.textContent="Position",U=s(),Z=a("p"),_=r(wt),tt=s(),et=a("p"),et.textContent="Target",nt=s(),lt=a("p"),at=r(jt),st=s(),ct=a("p"),ct.textContent="FOV",pt=s(),ut=a("input"),ht=s(),gt=a("p"),gt.textContent="Meshes",dt=s(),mt=a("div");for(let t=0;t<Dt.length;t+=1)Dt[t].c();vt=s(),xt=a("p"),xt.textContent="Lights",yt=s(),Ct=a("div");for(let t=0;t<Bt.length;t+=1)Bt[t].c();c(e,"class","openButton svelte-14pvkch"),p(e,"collapsed",!t[0]),c(C,"class","closeButton svelte-14pvkch"),c(L,"type","color"),L.value=D=rt(t[1].backgroundColor),c(E,"type","color"),E.value=S=rt(t[1].ambientLightColor[0]),c(I,"type","range"),c(I,"min","0"),c(I,"max","1"),c(I,"step","0.01"),I.value=N=t[1].ambientLightColor[1],c(j,"class","renderer svelte-14pvkch"),c(ut,"type","range"),c(ut,"min","0"),c(ut,"max","180"),c(ut,"step","1"),ut.value=ft=t[2].fov,c(K,"class","camera svelte-14pvkch"),c(mt,"class","meshes svelte-14pvkch"),c(Ct,"class","lights svelte-14pvkch"),c(y,"class","panelContent svelte-14pvkch"),c(l,"class","panel svelte-14pvkch"),p(l,"collapsed",t[0])},m(o,i){u(o,e,i),u(o,n,i),u(o,l,i),f(l,y),f(y,C),f(y,k),f(y,b),f(y,w),f(y,j),f(j,M),f(j,$),f(j,L),f(j,A),f(j,B),f(j,O),f(j,E),f(j,P),f(j,F),f(j,z),f(j,I),f(j,R),f(j,T),f(j,V);for(let t=0;t<$t.length;t+=1)$t[t]&&$t[t].m(j,null);f(y,W),f(y,q),f(y,G),f(y,K),f(K,Q),f(K,U),f(K,Z),f(Z,_),f(K,tt),f(K,et),f(K,nt),f(K,lt),f(lt,at),f(K,st),f(K,ct),f(K,pt),f(K,ut),f(y,ht),f(y,gt),f(y,dt),f(y,mt);for(let t=0;t<Dt.length;t+=1)Dt[t]&&Dt[t].m(mt,null);f(y,vt),f(y,xt),f(y,yt),f(y,Ct);for(let t=0;t<Bt.length;t+=1)Bt[t]&&Bt[t].m(Ct,null);kt||(bt=[h(e,"click",t[6]),h(C,"click",t[6])],kt=!0)},p(t,[n]){if(1&n&&p(e,"collapsed",!t[0]),2&n&&D!==(D=rt(t[1].backgroundColor))&&(L.value=D),2&n&&S!==(S=rt(t[1].ambientLightColor[0]))&&(E.value=S),2&n&&N!==(N=t[1].ambientLightColor[1])&&(I.value=N),4&n&&wt!==(wt=t[2].position+"")&&g(_,wt),4&n&&jt!==(jt=t[2].target+"")&&g(at,jt),4&n&&ft!==(ft=t[2].fov)&&(ut.value=ft),40&n){let e;for(Lt=o(t[3]),e=0;e<Lt.length;e+=1){const l=J(t,Lt,e);Dt[e]?Dt[e].p(l,n):(Dt[e]=ot(l),Dt[e].c(),Dt[e].m(mt,null))}for(;e<Dt.length;e+=1)Dt[e].d(1);Dt.length=Lt.length}if(16&n){let e;for(At=o(t[4]),e=0;e<At.length;e+=1){const l=H(t,At,e);Bt[e]?Bt[e].p(l,n):(Bt[e]=it(l),Bt[e].c(),Bt[e].m(Ct,null))}for(;e<Bt.length;e+=1)Bt[e].d(1);Bt.length=At.length}1&n&&p(l,"collapsed",t[0])},i:d,o:d,d(t){t&&(m(e),m(n),m(l)),v($t,t),v(Dt,t),v(Bt,t),kt=!1,x(bt)}}}function st(t){return t.map((t=>Math.floor(255*t))).reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"#")}function rt(t){return"#"+t.toString(16).padStart(6,"0")}function ct(t,e,n){let l,o,a,s;y(t,i,(t=>n(1,l=t))),y(t,C,(t=>n(2,o=t))),y(t,k,(t=>n(3,a=t))),y(t,b,(t=>n(4,s=t)));let r=!0;return[r,l,o,a,s,["diffuse"],function(){n(0,r=!r)},(t,e)=>e===t]}class pt extends t{constructor(t){super(),e(this,t,ct,at,n,{},G)}}function ut(t){let e,n,l,o,i,r;return l=new M({}),i=new pt({}),{c(){e=a("canvas"),n=s(),$(l.$$.fragment),o=s(),$(i.$$.fragment)},m(a,s){u(a,e,s),t[1](e),u(a,n,s),L(l,a,s),u(a,o,s),L(i,a,s),r=!0},p:d,i(t){r||(D(l.$$.fragment,t),D(i.$$.fragment,t),r=!0)},o(t){A(l.$$.fragment,t),A(i.$$.fragment,t),r=!1},d(a){a&&(m(e),m(n),m(o)),t[1](null),B(l,a),B(i,a)}}}function ft(t,e,n){let l,o,a,s,r,c;function p(){r.set({...w(r),position:[3*Math.sin(performance.now()/1e3),1,3*Math.cos(performance.now()/1e3)]});const t=.5*Math.sin(performance.now()/1e3)+.5,e=.5*Math.sin(performance.now()/1e3+2)+.5,n=.5*Math.sin(performance.now()/1e3+4)+.5;c.set({...w(c),color:[t,e,n]})}return y(t,i,(t=>n(4,l=t))),y(t,E,(t=>n(5,o=t))),y(t,C,(t=>n(6,a=t))),O((async()=>{S(i,l={...l,canvas:s,backgroundColor:P,ambientLightColor:[16777215,.1]},l),S(C,a={position:[0,5,-5],target:[0,1,0],fov:75},a),r=F(z({position:[0,1,0],color:[1,1,1],intensity:2,cutoffDistance:3,decayExponent:0})),c=F(z({position:[0,1,0],color:[1,1,1],intensity:5,cutoffDistance:10,decayExponent:0}));const t=V(10,10,1,1),e=I(new Float32Array(16)),n=await W({url:"peeling-painted-metal-diffuse.jpg",type:"diffuse"}),u=await W({url:"peeling-painted-metal-normal.jpg",type:"normal"}),f=await W({url:"peeling-painted-metal-roughness.jpg",type:"roughness"}),h={diffuse:[1,1,1],metalness:0,specular:q({roughness:.8,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:n,normalMap:u,roughnessMap:f};S(E,o=[...o,N({...t,matrix:e,material:h}),r,c],o),S(i,l={...l,loop:p,enabled:!0},l),R(s,C)})),[s,function(t){T[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class ht extends t{constructor(t){super(),e(this,t,ft,ut,n,{})}}export{ht as default};
