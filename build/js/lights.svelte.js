import{S as a,i as s,s as e,M as n,e as t,a as o,c as r,b as i,m as p,n as c,t as f,d as l,f as m,g as u,h as g,o as d,r as h,l as $,j as w,k as y,p as j,q as M,u as x,v as b,w as v,x as D,y as C,C as k,z as E,A as q,R as z,B as A}from"./engine-DHkWGoJ-.js";import{c as B}from"./plane-VtFptbHS.js";import{c as L}from"./texture-B6lmQOhV.js";import{c as P}from"./specular-C65U_eWv.js";import{D as R}from"./DebugPanel-CXMeZ1kV.js";function S(a){let s,e,g,d,h,$;return g=new n({}),h=new R({}),{c(){s=t("canvas"),e=o(),r(g.$$.fragment),d=o(),r(h.$$.fragment)},m(n,t){i(n,s,t),a[1](s),i(n,e,t),p(g,n,t),i(n,d,t),p(h,n,t),$=!0},p:c,i(a){$||(f(g.$$.fragment,a),f(h.$$.fragment,a),$=!0)},o(a){l(g.$$.fragment,a),l(h.$$.fragment,a),$=!1},d(n){n&&(m(s),m(e),m(d)),a[1](null),u(g,n),u(h,n)}}}function F(a,s,e){let n,t,o,r,i,p,c,f;function l(){c.set({...z(c),position:[3*Math.sin(performance.now()/1e3),1,3*Math.cos(performance.now()/1e3)]});const a=.5*Math.sin(performance.now()/1e3)+.5,s=.5*Math.sin(performance.now()/1e3+2)+.5,e=.5*Math.sin(performance.now()/1e3+4)+.5;f.set({...z(f),color:[a,s,e]})}return g(a,h,(a=>e(4,n=a))),g(a,$,(a=>e(5,t=a))),g(a,w,(a=>e(6,o=a))),g(a,y,(a=>e(7,r=a))),g(a,j,(a=>e(8,i=a))),d((async()=>{M(h,n={...n,canvas:p,backgroundColor:x,ambientLightColor:[16777215,.1]},n),M(j,i={...i,position:[0,5,-5],target:[0,1,0],fov:75},i),c=b(v({position:[0,1,0],color:[1,1,1],intensity:2,cutoffDistance:3,decayExponent:0})),f=b(v({position:[0,1,0],color:[1,1,1],intensity:5,cutoffDistance:10,decayExponent:0}));const a=B(10,10,1,1),s=D(C()),e=await L({url:"peeling-painted-metal-diffuse.jpg",type:"diffuse"}),m=await L({url:"peeling-painted-metal-normal.jpg",type:"normal"}),u=await L({url:"peeling-painted-metal-roughness.jpg",type:"roughness"}),g=k({diffuse:[1,1,1],metalness:0,specular:P({roughness:.8,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:e,normalMap:m,roughnessMap:u});M(y,r=[...r,g],r),M(w,o=[...o,E({...a,matrix:s,material:g})],o),M($,t=[...t,c,f],t),M(h,n={...n,loop:l,enabled:!0},n),q(p,j)})),[p,function(a){A[a?"unshift":"push"]((()=>{p=a,e(0,p)}))}]}class G extends a{constructor(a){super(),s(this,a,F,S,e,{})}}export{G as default};
