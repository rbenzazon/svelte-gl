import{S as a,i as s,s as e,M as n,e as t,a as o,c as r,b as i,m as p,n as c,t as f,d as l,f as u,g as m,h as g,o as d,r as h,j as w,k as y,x as M,y as j,z as x,A as $,w as b,B as v,C,W as D,D as k}from"./Menu-CfayWrTf.js";import{c as A}from"./plane-B2t4rfrJ.js";import{c as E}from"./texture-CLobhop5.js";import{c as z}from"./specular-DOfR3PXL.js";function B(a){let s,e,g,d;return g=new n({}),{c(){s=t("canvas"),e=o(),r(g.$$.fragment)},m(n,t){i(n,s,t),a[1](s),i(n,e,t),p(g,n,t),d=!0},p:c,i(a){d||(f(g.$$.fragment,a),d=!0)},o(a){l(g.$$.fragment,a),d=!1},d(n){n&&(u(s),u(e)),a[1](null),m(g,n)}}}function F(a,s,e){let n,t,o,r,i,p;function c(){i.set({...D(i),position:[3*Math.sin(performance.now()/1e3),1,3*Math.cos(performance.now()/1e3)]});const a=.5*Math.sin(performance.now()/1e3)+.5,s=.5*Math.sin(performance.now()/1e3+2)+.5,e=.5*Math.sin(performance.now()/1e3+4)+.5;p.set({...D(p),color:[a,s,e]})}return g(a,h,(a=>e(4,n=a))),g(a,w,(a=>e(5,t=a))),g(a,y,(a=>e(6,o=a))),d((async()=>{M(h,n={...n,canvas:r,backgroundColor:j,ambientLightColor:[16777215,.1]},n),M(y,o={position:[0,5,-5],target:[0,1,0],fov:75},o),i=x($({position:[0,1,0],color:[1,1,1],intensity:2,cutoffDistance:3,decayExponent:0})),p=x($({position:[0,1,0],color:[1,1,1],intensity:5,cutoffDistance:10,decayExponent:0}));const a=A(10,10,1,1),s=b(new Float32Array(16)),e=await E({url:"peeling-painted-metal-diffuse.jpg",type:"diffuse"}),f=await E({url:"peeling-painted-metal-normal.jpg",type:"normal"}),l=await E({url:"peeling-painted-metal-roughness.jpg",type:"roughness"}),u={diffuse:[1,1,1],metalness:0,specular:z({roughness:.8,ior:1.4,intensity:.5,color:[1,1,1]}),diffuseMap:e,normalMap:f,roughnessMap:l};M(w,t=[...t,v({...a,matrix:s,material:u}),i,p],t),M(h,n={...n,loop:c,enabled:!0},n),C(r,y)})),[r,function(a){k[a?"unshift":"push"]((()=>{r=a,e(0,r)}))}]}class L extends a{constructor(a){super(),s(this,a,F,B,e,{})}}export{L as default};
