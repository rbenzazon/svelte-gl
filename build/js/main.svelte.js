import{S as a,i as s,s as t,M as e,e as n,a as o,c as i,b as r,m as c,n as f,t as m,d as l,f as p,g as u,h as d,o as g,r as x,l as y,j as b,k as h,p as j,K as v,L as w,I as $,C,x as D,v as E,w as M,q as k,u as B,y as I,z as L,A as q,B as z,D as A,E as K}from"./engine-CfSrEngR.js";import{c as P,a as S}from"./polyhedron-E35m6Jf5.js";import{c as T}from"./plane-BeisbDud.js";import{c as F}from"./texture-3VWbGOMU.js";import{c as G}from"./contact-shadow-BmBlW3xB.js";import{l as H,m as J,i as N,a as O,g as Q,c as R,b as U}from"./gltf-loader-T3oulgyv.js";import"./specular-DZzjg2qv.js";function V(a){let s,t,d,g;return d=new e({}),{c(){s=n("canvas"),t=o(),i(d.$$.fragment)},m(e,n){r(e,s,n),a[1](s),r(e,t,n),c(d,e,n),g=!0},p:f,i(a){g||(m(d.$$.fragment,a),g=!0)},o(a){l(d.$$.fragment,a),g=!1},d(e){e&&(p(s),p(t)),a[1](null),u(d,e)}}}function W(){}function X(a,s,t){let e,n,o,i,r,c,f;return d(a,x,(a=>t(2,e=a))),d(a,y,(a=>t(3,n=a))),d(a,b,(a=>t(4,o=a))),d(a,h,(a=>t(5,i=a))),d(a,j,(a=>t(6,r=a))),d(a,v,(a=>t(7,c=a))),g((async()=>{const a=await H("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin"),s=J(a.scene),t=s.find(N),m=s.find(O),l=Q(m),p=R(m);w(p.position,p.position,l);const u=Q(t);$(u,u,Math.PI),C(u,u,[200,200,200]),D(u,u,[0,0,-500]);const d=U(a,t),g=E(M());D(g,g,[0,-1.5,0]),k(x,e={...e,canvas:f,backgroundColor:B,ambientLightColor:[16777215,.1]},e);const A=G(g,1,10,10,1024,128,.5),{getTexture:V}=A;k(v,c=[A],c),k(j,r={...r,position:[0,5,-5],target:[0,2,0],fov:75},r);const X=P(1,5,S),Y=I(L({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),Z=I(L({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),_=E(M());D(_,_,[3,0,0]),C(_,_,[.1,.1,.1]);const aa=T(10,10,1,1),sa=await F({textureBuffer:V,type:"diffuse"});await F({url:"transparent-texture.png",type:"diffuse"});const ta=K({diffuse:[1,1,1],metalness:0,diffuseMap:sa,transparent:!0}),ea=K({diffuse:[1,1,.5],metalness:0,opacity:.5}),na=K(d.material);k(h,i=[...i,ta,ea,na],i),k(b,o=[...o,q({...d,matrix:u,material:na}),q({...X,matrix:_,material:ea}),q({...aa,matrix:g,material:ta})],o),k(y,n=[...n,Y,Z],n),k(x,e={...e,loop:W,enabled:!0},e),z(f,j)})),[f,function(a){A[a?"unshift":"push"]((()=>{f=a,t(0,f)}))}]}class Y extends a{constructor(a){super(),s(this,a,X,V,t,{})}}export{Y as default};
