import{S as a,i as s,s as t,e as n,a as e,n as o,d as i,c as r,o as c,r as l,b as f,f as u,g as p,t as d,h as m,j as x,k as y,l as g,m as w,p as b,q as v,u as h,v as j,w as k,x as A,y as C,z as D}from"./texture-B1gA2w_v.js";import{l as E,t as F,g as M,c as q,a as z,b as B,d as I,e as L}from"./gltf-loader-DiZWQKLS.js";function P(a){let s;return{c(){s=n("canvas")},m(t,n){e(t,s,n),a[1](s)},p:o,i:o,o:o,d(t){t&&i(s),a[1](null)}}}function S(){performance.now()}function T(a,s,t){let n,e,o,i,P;return r(a,l,(a=>t(2,n=a))),r(a,f,(a=>t(3,e=a))),r(a,u,(a=>t(4,o=a))),r(a,p,(a=>t(5,i=a))),c((async()=>{const a=await E("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;F(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const r=M(t),c=q(t);d(c.position,c.position,r);const C=M(s);m(C,C,Math.PI),x(C,C,[200,200,200]),y(C,C,[0,0,-500]),s.matrix=C;const T=z(a,s);T.matrix=C;const G=g(new Float32Array(16));y(G,G,[0,-1.5,0]),w(l,n={...n,canvas:P,backgroundColor:b,ambientLightColor:[16777215,.1]},n);const H=B(G,1,10,10,1024,128,.5),{getTexture:J}=H;w(p,i=[H],i),w(u,o={position:[0,5,-5],target:[0,2,0],fov:75},o),I();const K=v(1,5,D),N=h(j({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),O=h(j({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),Q=g(new Float32Array(16));y(Q,Q,[3,0,0]),x(Q,Q,[.1,.1,.1]);const R=L(10,10,1,1),U=await k({textureBuffer:J,type:"diffuse"});await k({url:"transparent-texture.png",type:"diffuse"});const V={diffuse:[1,1,1],metalness:0,diffuseMap:U,transparent:!0};w(f,e=[...e,T,{...K,matrix:Q,material:{diffuse:[1,1,.5],metalness:0,opacity:.5}},{...R,matrix:G,material:V},N,O],e),w(l,n={...n,loop:S,enabled:!0},n),A(P,u)})),[P,function(a){C[a?"unshift":"push"]((()=>{P=a,t(0,P)}))}]}class G extends a{constructor(a){super(),s(this,a,T,P,t,{})}}export{G as default};
