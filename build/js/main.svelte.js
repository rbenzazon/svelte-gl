import{S as a,i as s,s as t,M as o,e as n,a as e,c as r,b as i,m as c,n as f,t as l,d as m,f as p,g as u,h as d,o as x,r as g,l as y,j as w,k as b,p as h,q as j,u as v,v as $,w as M,x as A,y as C,z as D,A as E,B as k,C as B,D as F,E as q}from"./Menu-z2xJb2L1.js";import{c as z,a as I}from"./polyhedron-DUKVG-PD.js";import{c as L}from"./cube-BUu5McRL.js";import{c as P}from"./plane-CJx9FycI.js";import{c as S}from"./texture-B3n45YCS.js";import{c as T}from"./contact-shadow-BlCuqjAk.js";import{l as G,t as H,g as J,c as K,a as N}from"./gltf-loader-BSFsBwPH.js";function O(a){let s,t,d,x;return d=new o({}),{c(){s=n("canvas"),t=e(),r(d.$$.fragment)},m(o,n){i(o,s,n),a[1](s),i(o,t,n),c(d,o,n),x=!0},p:f,i(a){x||(l(d.$$.fragment,a),x=!0)},o(a){m(d.$$.fragment,a),x=!1},d(o){o&&(p(s),p(t)),a[1](null),u(d,o)}}}function Q(){performance.now()}function R(a,s,t){let o,n,e,r,i,c;return d(a,g,(a=>t(2,o=a))),d(a,y,(a=>t(3,n=a))),d(a,w,(a=>t(4,e=a))),d(a,b,(a=>t(5,r=a))),d(a,h,(a=>t(6,i=a))),x((async()=>{const a=await G("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;H(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const f=J(t),l=K(t);j(l.position,l.position,f);const m=J(s);v(m,m,Math.PI),$(m,m,[200,200,200]),M(m,m,[0,0,-500]),s.matrix=m;const p=N(a,s);p.matrix=m;const u=A(new Float32Array(16));M(u,u,[0,-1.5,0]),C(g,o={...o,canvas:c,backgroundColor:D,ambientLightColor:[16777215,.1]},o);const d=T(u,1,10,10,1024,128,.5),{getTexture:x}=d;C(h,i=[d],i),C(b,r={position:[0,5,-5],target:[0,2,0],fov:75},r),L();const q=z(1,5,I),O=E(k({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),R=E(k({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),U=A(new Float32Array(16));M(U,U,[3,0,0]),$(U,U,[.1,.1,.1]);const V=P(10,10,1,1),W=await S({textureBuffer:x,type:"diffuse"});await S({url:"transparent-texture.png",type:"diffuse"});const X={diffuse:[1,1,1],metalness:0,diffuseMap:W,transparent:!0};C(w,e=[...e,B(p),B({...q,matrix:U,material:{diffuse:[1,1,.5],metalness:0,opacity:.5}}),B({...V,matrix:u,material:X})],e),C(y,n=[...n,O,R],n),C(g,o={...o,loop:Q,enabled:!0},o),F(c,b)})),[c,function(a){q[a?"unshift":"push"]((()=>{c=a,t(0,c)}))}]}class U extends a{constructor(a){super(),s(this,a,R,O,t,{})}}export{U as default};
