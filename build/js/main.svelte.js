import{S as a,i as s,s as t,M as o,e as n,a as e,c as r,b as i,m as c,n as l,t as m,d as f,f as u,g as p,h as d,o as x,r as g,l as y,j as w,k as b,p as h,q as j,u as v,v as $,w as M,x as A,y as C,z as D,A as E,B as F,C as k,D as B,E as q,F as z,G}from"./Menu-Yuo5SiFP.js";import{c as I,a as L}from"./polyhedron-DWpsySco.js";import{c as P}from"./cube-u3Nkzwel.js";import{c as S}from"./plane-CSkexKKh.js";import{c as T}from"./texture-lhvg684U.js";import{c as H}from"./contact-shadow-B9QQ_f3j.js";import{l as J,t as K,g as N,c as O,a as Q}from"./gltf-loader-u4k9qSXN.js";function R(a){let s,t,d,x;return d=new o({}),{c(){s=n("canvas"),t=e(),r(d.$$.fragment)},m(o,n){i(o,s,n),a[1](s),i(o,t,n),c(d,o,n),x=!0},p:l,i(a){x||(m(d.$$.fragment,a),x=!0)},o(a){f(d.$$.fragment,a),x=!1},d(o){o&&(u(s),u(t)),a[1](null),p(d,o)}}}function U(){}function V(a,s,t){let o,n,e,r,i,c,l;return d(a,g,(a=>t(2,o=a))),d(a,y,(a=>t(3,n=a))),d(a,w,(a=>t(4,e=a))),d(a,b,(a=>t(5,r=a))),d(a,h,(a=>t(6,i=a))),d(a,j,(a=>t(7,c=a))),x((async()=>{const a=await J("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;K(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const m=N(t),f=O(t);v(f.position,f.position,m);const u=N(s);$(u,u,Math.PI),M(u,u,[200,200,200]),A(u,u,[0,0,-500]),s.matrix=u;const p=Q(a,s);p.matrix=u;const d=C(new Float32Array(16));A(d,d,[0,-1.5,0]),D(g,o={...o,canvas:l,backgroundColor:E,ambientLightColor:[16777215,.1]},o);const x=H(d,1,10,10,1024,128,.5),{getTexture:z}=x;D(j,c=[x],c),D(h,i={position:[0,5,-5],target:[0,2,0],fov:75},i),P();const R=I(1,5,L),V=F(k({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),W=F(k({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),X=C(new Float32Array(16));A(X,X,[3,0,0]),M(X,X,[.1,.1,.1]);const Y=S(10,10,1,1),Z=await T({textureBuffer:z,type:"diffuse"});await T({url:"transparent-texture.png",type:"diffuse"});const _=G({diffuse:[1,1,1],metalness:0,diffuseMap:Z,transparent:!0}),aa=G({diffuse:[1,1,.5],metalness:0,opacity:.5}),sa=G(p.material);p.material=sa,D(b,r=[...r,_,aa,sa],r),D(w,e=[...e,B(p),B({...R,matrix:X,material:aa}),B({...Y,matrix:d,material:_})],e),D(y,n=[...n,V,W],n),D(g,o={...o,loop:U,enabled:!0},o),q(l,h)})),[l,function(a){z[a?"unshift":"push"]((()=>{l=a,t(0,l)}))}]}class W extends a{constructor(a){super(),s(this,a,V,R,t,{})}}export{W as default};
