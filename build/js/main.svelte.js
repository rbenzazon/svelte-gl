import{S as a,i as s,s as t,M as o,e as n,a as e,c as r,b as i,m as c,n as f,t as l,d as m,f as p,g as u,h as d,o as x,r as g,j as y,k as w,l as b,p as h,q as j,u as v,v as $,w as M,x as A,y as C,z as D,A as k,B,C as E,D as F}from"./Menu-CKP02gHg.js";import{c as q,a as z}from"./polyhedron-CSAnw9D7.js";import{c as I}from"./cube-Dz1Q5gbC.js";import{c as L}from"./plane-BrvpI93f.js";import{c as P}from"./texture-fqaCzioK.js";import{c as S}from"./contact-shadow-C21Tycfw.js";import{l as T,t as G,g as H,c as J,a as K}from"./gltf-loader-BGU8fpEG.js";function N(a){let s,t,d,x;return d=new o({}),{c(){s=n("canvas"),t=e(),r(d.$$.fragment)},m(o,n){i(o,s,n),a[1](s),i(o,t,n),c(d,o,n),x=!0},p:f,i(a){x||(l(d.$$.fragment,a),x=!0)},o(a){m(d.$$.fragment,a),x=!1},d(o){o&&(p(s),p(t)),a[1](null),u(d,o)}}}function O(){performance.now()}function Q(a,s,t){let o,n,e,r,i;return d(a,g,(a=>t(2,o=a))),d(a,y,(a=>t(3,n=a))),d(a,w,(a=>t(4,e=a))),d(a,b,(a=>t(5,r=a))),x((async()=>{const a=await T("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin");let s,t;G(a.scene,(a=>{null!=a.position?s=a:null!=a.camera&&(t=a)}));const c=H(t),f=J(t);h(f.position,f.position,c);const l=H(s);j(l,l,Math.PI),v(l,l,[200,200,200]),$(l,l,[0,0,-500]),s.matrix=l;const m=K(a,s);m.matrix=l;const p=M(new Float32Array(16));$(p,p,[0,-1.5,0]),A(g,o={...o,canvas:i,backgroundColor:C,ambientLightColor:[16777215,.1]},o);const u=S(p,1,10,10,1024,128,.5),{getTexture:d}=u;A(b,r=[u],r),A(w,e={position:[0,5,-5],target:[0,2,0],fov:75},e),I();const x=q(1,5,z),F=D(k({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),N=D(k({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),Q=M(new Float32Array(16));$(Q,Q,[3,0,0]),v(Q,Q,[.1,.1,.1]);const R=L(10,10,1,1),U=await P({textureBuffer:d,type:"diffuse"});await P({url:"transparent-texture.png",type:"diffuse"});const V={diffuse:[1,1,1],metalness:0,diffuseMap:U,transparent:!0};A(y,n=[...n,B(m),B({...x,matrix:Q,material:{diffuse:[1,1,.5],metalness:0,opacity:.5}}),B({...R,matrix:p,material:V}),F,N],n),A(g,o={...o,loop:O,enabled:!0},o),E(i,w)})),[i,function(a){F[a?"unshift":"push"]((()=>{i=a,t(0,i)}))}]}class R extends a{constructor(a){super(),s(this,a,Q,N,t,{})}}export{R as default};
