import{S as a,i as s,s as t,M as e,e as n,a as o,c as i,b as r,m as c,n as f,t as m,d as l,f as p,g as u,h as d,o as g,r as x,l as y,j as b,k as h,p as j,q as v,u as w,v as $,w as M,x as C,y as D,z as E,A as k,B,C as q,D as z,E as A,F,G,H}from"./Menu-qyHAaH92.js";import{c as I,a as L}from"./polyhedron-DfOynEX2.js";import{c as P}from"./plane-CXbmH179.js";import{c as S}from"./texture-CcPo0APX.js";import{c as T}from"./contact-shadow-DJCIMr87.js";import{l as J,m as K,i as N,a as O,g as Q,c as R,b as U}from"./gltf-loader-Bu6m__ex.js";import"./specular-BOojs0yg.js";function V(a){let s,t,d,g;return d=new e({}),{c(){s=n("canvas"),t=o(),i(d.$$.fragment)},m(e,n){r(e,s,n),a[1](s),r(e,t,n),c(d,e,n),g=!0},p:f,i(a){g||(m(d.$$.fragment,a),g=!0)},o(a){l(d.$$.fragment,a),g=!1},d(e){e&&(p(s),p(t)),a[1](null),u(d,e)}}}function W(){}function X(a,s,t){let e,n,o,i,r,c,f;return d(a,x,(a=>t(2,e=a))),d(a,y,(a=>t(3,n=a))),d(a,b,(a=>t(4,o=a))),d(a,h,(a=>t(5,i=a))),d(a,j,(a=>t(6,r=a))),d(a,v,(a=>t(7,c=a))),g((async()=>{const a=await J("models/v2/md-blend6-mdlvw.gltf","models/v2/md-blend6-mdlvw.bin"),s=K(a.scene),t=s.find(N),m=s.find(O),l=Q(m),p=R(m);w(p.position,p.position,l);const u=Q(t);$(u,u,Math.PI),M(u,u,[200,200,200]),C(u,u,[0,0,-500]);const d=U(a,t),g=D(E());C(g,g,[0,-1.5,0]),k(x,e={...e,canvas:f,backgroundColor:B,ambientLightColor:[16777215,.1]},e);const G=T(g,1,10,10,1024,128,.5),{getTexture:V}=G;k(v,c=[G],c),k(j,r={...r,position:[0,5,-5],target:[0,2,0],fov:75},r);const X=I(1,5,L),Y=q(z({position:[-2,3,-3],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),Z=q(z({position:[2,-1,-1],color:[1,1,1],intensity:20,cutoffDistance:0,decayExponent:2})),_=D(E());C(_,_,[3,0,0]),M(_,_,[.1,.1,.1]);const aa=P(10,10,1,1),sa=await S({textureBuffer:V,type:"diffuse"});await S({url:"transparent-texture.png",type:"diffuse"});const ta=H({diffuse:[1,1,1],metalness:0,diffuseMap:sa,transparent:!0}),ea=H({diffuse:[1,1,.5],metalness:0,opacity:.5}),na=H(d.material);k(h,i=[...i,ta,ea,na],i),k(b,o=[...o,A({...d,matrix:u,material:na}),A({...X,matrix:_,material:ea}),A({...aa,matrix:g,material:ta})],o),k(y,n=[...n,Y,Z],n),k(x,e={...e,loop:W,enabled:!0},e),F(f,j)})),[f,function(a){G[a?"unshift":"push"]((()=>{f=a,t(0,f)}))}]}class Y extends a{constructor(a){super(),s(this,a,X,V,t,{})}}export{Y as default};
