import{S as a,i as s,s as t,M as n,e,a as o,c as r,b as i,m as l,n as c,t as f,d as m,f as u,g as p,h as d,o as g,r as $,l as y,j as w,k as x,p as b,z as j,A as k,B as h,C as D,G as A,y as M,x as v,w as C,D as E,E as F,F as z}from"./Menu-Yuo5SiFP.js";import{l as B,t as G,a as L}from"./gltf-loader-u4k9qSXN.js";import{D as P}from"./DebugPanel-BTMrFyoW.js";import{c as S}from"./texture-lhvg684U.js";function q(a){let s,t,d,g,$,y;return d=new n({}),$=new P({}),{c(){s=e("canvas"),t=o(),r(d.$$.fragment),g=o(),r($.$$.fragment)},m(n,e){i(n,s,e),a[1](s),i(n,t,e),l(d,n,e),i(n,g,e),l($,n,e),y=!0},p:c,i(a){y||(f(d.$$.fragment,a),f($.$$.fragment,a),y=!0)},o(a){m(d.$$.fragment,a),m($.$$.fragment,a),y=!1},d(n){n&&(u(s),u(t),u(g)),a[1](null),p(d,n),p($,n)}}}function H(){}function I(a,s,t){let n,e,o,r,i,l;return d(a,$,(a=>t(2,n=a))),d(a,y,(a=>t(3,e=a))),d(a,w,(a=>t(4,o=a))),d(a,x,(a=>t(5,r=a))),d(a,b,(a=>t(6,i=a))),g((async()=>{const a=await B("models/rock.gltf","models/rock.bin");let s;G(a.scene,(a=>{null!=a.position?s=a:a.camera}));const t=L(a,s);j($,n={...n,canvas:l,backgroundColor:k,ambientLightColor:[16777215,.1]},n),j(b,i={position:[0,3,10],target:[0,3,0],fov:75},i);const c=h(D({position:[-6,7,3],color:[.996078431372549,.9529411764705882,.6627450980392157],intensity:7.5,cutoffDistance:0,decayExponent:1})),f=h(D({color:[.6313725490196078,.6235294117647059,.996078431372549],intensity:3,position:[3,-3,1],cutoffDistance:7.5,decayExponent:.25})),m=await S({url:"rock-diffuse.jpg",type:"diffuse"}),u=await S({url:"rock-normal.png",type:"normal"}),p=A({...t.material,diffuse:[.67,.68,.81],diffuseMap:m,normalMap:u});t.material=p,j(x,r=[...r,p],r);const d=new Array(16).fill(0);M(d);let g=new Array(8).fill(0).map(((a,s)=>{let n=[...t.matrix];return v(n,n,[0,2*s-4,0]),C(n,n,[1,1,-1]),new Float32Array(n)}));t.instances=8,delete t.matrix,t.matrices=g,j(w,o=[...o,E(t,!1,[1,0,0])],o),j(y,e=[...e,c,f],e),j($,n={...n,loop:H,enabled:!0},n),F(l,b)})),[l,function(a){z[a?"unshift":"push"]((()=>{l=a,t(0,l)}))}]}class J extends a{constructor(a){super(),s(this,a,I,q,t,{})}}export{J as default};
