import{S as a,i as s,s as t,M as n,e,a as o,c as r,b as c,m as i,n as f,t as l,d as m,f as u,g as p,h as $,o as g,r as h,l as d,j as b,k as M,p as j,A as y,B as v,y as w,z as x,x as D,N as C,w as P,C as k,D as A,E,F as z,G as B,H as F,R as G,P as H,Q as I,v as L,a2 as N}from"./Menu-qyHAaH92.js";import{c as Q}from"./cube-DACqjQmD.js";import{D as R}from"./DebugPanel-C6oIqPQk.js";import"./specular-BOojs0yg.js";function S(a){let s,t,$,g,h,d;return $=new n({}),h=new R({}),{c(){s=e("canvas"),t=o(),r($.$$.fragment),g=o(),r(h.$$.fragment)},m(n,e){c(n,s,e),a[1](s),c(n,t,e),i($,n,e),c(n,g,e),i(h,n,e),d=!0},p:f,i(a){d||(l($.$$.fragment,a),l(h.$$.fragment,a),d=!0)},o(a){m($.$$.fragment,a),m(h.$$.fragment,a),d=!1},d(n){n&&(u(s),u(t),u(g)),a[1](null),p($,n),p(h,n)}}}const q=512;function J(a,s,t){let n,e,o,r,c,i,f;function l(a,s){const t=.001*Math.PI,n=H(a.matrices[s]);C(n,n,t/2),I(n,n,t),L(n,n,t/3),a.matrices[s].set(n)}function m(){for(let a=0;a<q;a++)l(f,a)}return $(a,h,(a=>t(3,n=a))),$(a,d,(a=>t(4,e=a))),$(a,b,(a=>t(5,o=a))),$(a,M,(a=>t(6,r=a))),$(a,j,(a=>t(7,c=a))),g((async()=>{y(h,n={...n,canvas:i,backgroundColor:v,ambientLightColor:[16777215,.1]},n),y(j,c={...c,position:[0,5,-20],target:[0,1,0],fov:75},c);const a=Q(),s=w(x());D(s,s,[3,1.5,0]);const t=F({diffuse:[1,.5,.5],metalness:0});y(M,r=[...r,t],r);const l=w(x());let u=new Array(q).fill(0).map(((a,s)=>{let t=G(l);const n=Math.ceil(Math.cbrt(q)),e=s%n,o=Math.floor(s/n)%n,r=Math.floor(s/(n*n));return D(t,t,[2*(e-(n-1)/2),2*(o-(n-1)/2),2*(r-(n-1)/2)]),C(t,t,N(10*s)),P(t,t,[.5,.5,.5]),t}));const p=k(A({color:[1,1,1],intensity:27,position:[-2,12,-12],cutoffDistance:30,decayExponent:1.5}));f=E({...a,instances:q,matrices:u,material:t}),y(b,o=[...o,f],o),y(d,e=[...e,p],e),y(h,n={...n,loop:m,enabled:!0},n),z(i,j)})),[i,function(a){B[a?"unshift":"push"]((()=>{i=a,t(0,i)}))}]}class K extends a{constructor(a){super(),s(this,a,J,S,t,{})}}export{K as default};
