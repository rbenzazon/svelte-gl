import{S as a,i as s,s as t,M as e,e as o,a as r,c as n,b as i,m,n as c,t as u,d,f as p,g as h,h as l,o as f,r as g,j as x,k as b,q as w,p as j,A as M,B as v,H as y,y as $,z as k,w as C,K as I,I as z,as as P,x as S,E as T,F as q,G as A}from"./engine.js";import{c as B}from"./skybox.js";import{c as D,g as E,h as F,a as G,b as H}from"./environment-map-texture.js";import{c as K}from"./specular.js";import{l as L,m as J,i as N,b as O}from"./gltf-loader.js";import{i as Q}from"./dracoDecoder.js";import{d as R}from"./jpeg-hdr-loader.js";function U(a){let s,t,l,f;return l=new e({}),{c(){s=o("canvas"),t=r(),n(l.$$.fragment)},m(e,o){i(e,s,o),a[1](s),i(e,t,o),m(l,e,o),f=!0},p:c,i(a){f||(u(l.$$.fragment,a),f=!0)},o(a){d(l.$$.fragment,a),f=!1},d(e){e&&(p(s),p(t)),a[1](null),h(l,e)}}}function V(){}function W(a,s,t){let e,o,r,n,i,m;return l(a,g,(a=>t(3,e=a))),l(a,x,(a=>t(4,o=a))),l(a,b,(a=>t(5,r=a))),l(a,w,(a=>t(6,n=a))),l(a,j,(a=>t(7,i=a))),f((async()=>{M(g,e={...e,canvas:m,backgroundColor:v,ambientLightColor:[16777215,.1],toneMappings:[D({exposure:1})]},e),M(j,i={...i,position:[4,.8,2],target:[2,0,-1],fov:75},i);const a=await R("skyboxes/spruit-sunrise-8k-hdr.jpg"),s=E(1),t=await B({texture:a.texture,width:a.texture.width,height:a.texture.height,convertToCube:F,cubeSize:2048,toneMapping:s}),c=G(a.texture,a.width,a.height);M(w,n=[t,c],n);const u=H({envMap:c.getTexture,width:c.width,height:c.height,lodMax:c.lodMax}),d=await Q("draco/"),p=await L("models/gamefont-a-draco.gltf","models/gamefont-a-draco.bin",d),h=J(p.scene).find(N),l=O(p,h),f=y({metalness:.95,specular:K({roughness:.08,ior:1.4,intensity:.8,color:[1,1,1]}),diffuse:[1,215/255,0],envMap:u}),A=y({metalness:0,specular:K({roughness:.08,ior:1.4,intensity:.8,color:[1,1,1]}),diffuse:[1,215/255,0],envMap:u}),U=$(k());C(U,U,[8,8,8]),I(U,U,Math.PI/4),z(U,U,Math.PI/2);const W=P(k(),U);S(W,W,[.5,0,0]),M(b,r=[...r,A,f],r),M(x,o=[...o,T({...l,matrix:U,material:A}),T({...l,matrix:W,material:f})],o),M(g,e={...e,loop:V,enabled:!0},e),q(m,j)})),[m,function(a){A[a?"unshift":"push"]((()=>{m=a,t(0,m)}))}]}new class extends a{constructor(a){super(),s(this,a,W,U,t,{})}}({target:document.body});
